# <p align="center"> AndroidBaseFrameMVVM ğŸ½</p>

<p align="center"> AndroidBaseFrameMVVM æ˜¯ä¸€ä¸ª Android é¡¹ç›® MVVM æ¶æ„ å¼€ç®±å³ç”¨çš„æ¡†æ¶ </p>

<p align="center"> è¯¥æ¡†æ¶åŸºäº Kotlin + Flow + Jetpack + MVVM + ç»„ä»¶åŒ– + Repository æ¨¡å¼å®ç°</p>

<p align="center"> è¯¥æ¡†æ¶å­˜åœ¨çš„æ„ä¹‰ä¸€æ–¹é¢æ˜¯ç§‰æ‰¿ç€æˆ‘å’Œå¤§éƒ¨åˆ†ç¨‹åºçŒ¿/åª›"æ‡’"çš„å¤©æ€§,å®ç°å¯å¤ç”¨ã€ä¸ç”¨é‡å¤æ­é¡¹ç›®æ¶æ„ã€å¼€ç®±å¾®å°ä¿®æ”¹å³å¯ä¸Šæ‰‹æ–°å¼€é¡¹ç›®,å¦ä¸€æ–¹é¢ä¹Ÿæ˜¯æƒ³æŠŠè‡ªå·±ä¼šçš„ä¸œè¥¿å†™å‡ºæ¥,ä¾›å…¶ä»–å­¦ä¹ è¿™æ–¹é¢çŸ¥è¯†çš„åŒå­¦å€Ÿé‰´å’Œå‚è€ƒ </p>

<p align="center"> ä¸‹é¢å±•ç¤ºè¯¥æ¡†æ¶çš„æ¶æ„å›¾ ğŸ‘¾</p>

<p align="center"><img src="https://github.com/Quyunshuo/AndroidBaseFrameMVVM/blob/master/img/img1.jpg"/> </p>

<p align="center"> è°·æ­Œ Android å›¢é˜Ÿ Jetpack è§†å›¾æ¨¡å‹ ğŸ‘¾</p>

<p align="center"><img src="https://github.com/Quyunshuo/AndroidBaseFrameMVVM/blob/master/img/img2.png"/> </p>

## æ¡†æ¶æŠ€æœ¯æ ˆ

* ç»„ä»¶åŒ– æ¶æ„
* MVVM æ¶æ„
* Repository è®¾è®¡æ¨¡å¼
* [Kotlin](https://github.com/JetBrains/kotlin)
* [Kotlin-Coroutines-Flow](https://github.com/JetBrains/kotlin)
* [Lifecycle](https://developer.android.com/jetpack/androidx/releases/lifecycle)
* [ViewModel](https://developer.android.com/topic/libraries/architecture/viewmodel)
* [LiveData](https://developer.android.com/topic/libraries/architecture/livedata)
* [ViewBinding](https://developer.android.com/topic/libraries/view-binding)
* [Android KTX](https://developer.android.com/kotlin/ktx)
* [OkHttp](https://github.com/square/okhttp):ç½‘ç»œè¯·æ±‚
* [Retrofit](https://github.com/square/retrofit):ç½‘ç»œè¯·æ±‚
* [MMKV](https://github.com/Tencent/MMKV):è…¾è®¯åŸºäº mmap å†…å­˜æ˜ å°„çš„ key-value æœ¬åœ°å­˜å‚¨ç»„ä»¶
* [Glide](https://github.com/bumptech/glide):å¿«é€Ÿé«˜æ•ˆçš„Androidå›¾ç‰‡åŠ è½½åº“
* [ARoute](https://github.com/alibaba/ARouter):é˜¿é‡Œç”¨äºå¸®åŠ© Android App è¿›è¡Œç»„ä»¶åŒ–æ”¹é€ çš„æ¡†æ¶ â€”â€” æ”¯æŒæ¨¡å—é—´çš„è·¯ç”±ã€é€šä¿¡ã€è§£è€¦
* [BaseRecyclerViewAdapterHelper](https://github.com/CymChad/BaseRecyclerViewAdapterHelper):ä¸€ä¸ªå¼ºå¤§å¹¶ä¸”çµæ´»çš„RecyclerViewAdapter
* [StatusBarUtil](https://github.com/laobie/StatusBarUtil):çŠ¶æ€æ 
* [EventBus](https://github.com/greenrobot/EventBus):é€‚ç”¨äºAndroidå’ŒJavaçš„å‘å¸ƒ/è®¢é˜…äº‹ä»¶æ€»çº¿
* [Bugly](https://bugly.qq.com/v2/index):è…¾è®¯å¼‚å¸¸ä¸ŠæŠ¥åŠçƒ­æ›´æ–°(åªé›†æˆäº†å¼‚å¸¸ä¸ŠæŠ¥)
* [PermissionX](https://github.com/guolindev/PermissionX):éƒ­éœ–æƒé™è¯·æ±‚æ¡†æ¶
* [Chuck](https://github.com/jgilfelt/chuck):é€‚ç”¨äºAndroid OkHttp å®¢æˆ·ç«¯çš„åº”ç”¨å†…HTTPæ‹¦æˆªå™¨ æ˜¾ç¤ºè¯·æ±‚ä¿¡æ¯
* [LeakCanary](https://github.com/square/leakcanary):Androidçš„å†…å­˜æ³„æ¼æ£€æµ‹åº“

## ä½¿ç”¨æ–¹å¼
* 1.ä¸‹è½½æœ¬é¡¹ç›®åˆ é™¤æ— ç”¨çš„æ–‡ä»¶
* 2.ä¿®æ”¹é¡¹ç›®åŒ…ååŠå„ç»„ä»¶åŒ…ç»“æ„,ä¿®æ”¹ AppName
* 3.å¡«å†™è‡ªå·±çš„ Bugly key åœ¨ BaseApplication initialize() æ–¹æ³•ä¸­
* è¿™æ ·å°±å¯ä»¥ä½¿ç”¨äº†,å½“ç„¶å¯ä»¥åˆ é™¤ä¸ç”¨çš„ç¬¬ä¸‰æ–¹,æˆ–è€…æ·»åŠ ç›¸åº”è¦ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹,å…·ä½“è§„èŒƒçœ‹ä¸‹é¢çš„æ¡†æ¶è§£è¯»

## Demo
* é¡¹ç›®é‡Œæœ‰ä¸€ä¸ªdemoåˆ†æ”¯,è¿™æ˜¯æˆ‘å†™çš„ä¸€ä¸ªå°ä¾‹å­,å¯ä»¥ç»“åˆDemoå»ç†Ÿæ‚‰è¿™ä¸ªæ¡†æ¶

## æ¡†æ¶è§£è¯»

**ç»„ä»¶åŒ–ç›¸å…³**
* æœ¬æ¡†æ¶é‡‡ç”¨çš„æ˜¯ç»„ä»¶åŒ–æ¶æ„,æ ¸å¿ƒç»„ä»¶å°±æ˜¯ Base å’Œ Common ,è¿™ä¸¤ä¸ªç»„ä»¶éƒ½å±äºå…¬å…±ç»„ä»¶,è´Ÿè´£ä¸ºåŠŸèƒ½ä¸šåŠ¡ç»„ä»¶æä¾›æ”¯æŒ
* Base ç»„ä»¶ä¸»è¦é›†æˆäº†å„ç§éœ€è¦ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“å’Œä¾èµ–æˆ–è€…å…¬ç”¨çš„ aar/jar,å¹¶å°†ä¾èµ–å‘ä¾èµ–è¯¥ç»„ä»¶çš„ç»„ä»¶ä¼ é€’,éœ€è¦é›†æˆçš„ä¾èµ–,å…¨éƒ¨é›†æˆåœ¨ Base ç»„ä»¶å†…,Base ç»„ä»¶ä¹Ÿæä¾›äº†å„ç§åŸºç±»å°è£…ä»¥åŠå·¥å…·ç±»ã€æ‰©å±•å‡½æ•°ã€é¡¶å±‚å‡½æ•°,è¿™äº›éƒ½åº”è¯¥æ˜¯é¡¹ç›®æ— å…³æ€§çš„,å¯ä»¥è¾¾åˆ° Base æ¨¡å—ç›´æ¥æ‹·è´å¤ç”¨çš„æ•ˆæœ
* Common ç»„ä»¶ä¸»è¦æ˜¯ä¸é¡¹ç›®æœ‰å…³çš„å…¬ç”¨åº“,æ¯”å¦‚ç½‘ç»œæ¥å£,å…¨å±€å¸¸é‡, bean ç±»ç­‰,å’Œé¡¹ç›®æœ‰å…³çš„ä¸œè¥¿å› è¯¥æ”¾åœ¨ Common ç»„ä»¶å†…,ä¸è¦ä¾µå…¥ Base ç»„ä»¶,å› ä¸ºå’Œé¡¹ç›®æœ‰å…³çš„ä¸œè¥¿ä¸€æ—¦æ”¾åœ¨äº† Base ç»„ä»¶å†…,æƒ³è¦ç›´æ¥æ‹·è´å¤ç”¨ Base ç»„ä»¶å°±ä¸å¯èƒ½äº†,è‚¯å®šä¼šæœ‰ä¸€å †å’Œé¡¹ç›®ç›¸å…³çš„ä¸œè¥¿,é¡¹ç›®çš„èµ„æºæ–‡ä»¶æˆ–è€…å…¬ç”¨çš„èµ„æºæ–‡ä»¶æœ€å¥½ç»Ÿä¸€æ”¾åœ¨ Common ç»„ä»¶å†…,æ–¹ä¾¿å…¬ç”¨,æ–¹ä¾¿ç®¡ç†
* Base å’Œ Common éƒ½å±äºå…¬å…±ç»„ä»¶,åŒºåˆ«å°±åœ¨äº Base æ¯” Common æ›´åº•å±‚,åäºä¸é¡¹ç›®æ— å…³æ€§,è€Œ Common æ˜¯ä¸é¡¹ç›®æœ‰å…³æ€§
* é¡¹ç›®çš„ä¾èµ–ç‰ˆæœ¬ç®¡ç†å’Œé¡¹ç›®å‚æ•°ç­‰é…ç½®ç»Ÿä¸€å†™åœ¨äº† buildSrc æ–‡ä»¶å¤¹å†…,å†…éƒ¨ç»´æŠ¤äº†å‡ ä¸ª kt æ–‡ä»¶è¿›è¡Œå¯¹ä¾èµ–åº“ç‰ˆæœ¬åŠé¡¹ç›®å‚æ•°ç»Ÿä¸€å­˜æ”¾ç®¡ç†
* åŠŸèƒ½ç»„ä»¶åº”è¯¥ä¾èµ– Common ç»„ä»¶,å£³ App ä¾èµ–æ‰€æœ‰çš„åŠŸèƒ½ç»„ä»¶,è¦å°½é‡é¿å…å„ç»„ä»¶äº’ç›¸ä¾èµ–,å£³ App å†…ä¸è¦å†™ä¸œè¥¿,åªå½“ä¸€ä¸ªå£³è´Ÿè´£é›†æˆå„ä¸ªç»„ä»¶,æ¯ä¸ªç»„ä»¶éƒ½åº”è¯¥åœ¨ build.gradle æ–‡ä»¶å†…è®¾ç½®èµ„æºå‘½åè§„èŒƒ,ç›®çš„æ˜¯ä¸ºäº†é¿å…èµ„æºå†²çª
```
android {
    resourcePrefix "èµ„æºåå‰ç¼€"
}
```
* å„ä¸ªåŠŸèƒ½ä¸šåŠ¡ç»„ä»¶å¯ä»¥å•ç‹¬è¿è¡Œ,é€šè¿‡ buildSrc/BuildConfig.kt ä¸­çš„ isAppMode å‚æ•°æ§åˆ¶,é¡¹ç›®ä¸šåŠ¡å¤æ‚èµ·æ¥å,å°±éœ€è¦ä¸ºæ¯ä¸ªç»„ä»¶å•ç‹¬ç¼–å†™ä¾›å…¶æ­£å¸¸å•ç‹¬è¿è¡Œçš„é€»è¾‘ä»£ç 

**MVVMç›¸å…³**
* MVVM é‡‡ç”¨ Jetpack ç»„ä»¶ + Repository è®¾è®¡æ¨¡å¼ å®ç°,æ‰€ä½¿ç”¨çš„ Jetpack å¹¶ä¸æ˜¯å¾ˆå¤š,åƒ DataBindingã€Hiltã€Room ç­‰å¹¶æ²¡æœ‰ä½¿ç”¨,å¦‚æœéœ€è¦å¯ä»¥æ·»åŠ ã€‚é‡‡ç”¨æ¶æ„æ¨¡å¼ç›®çš„å°±æ˜¯ä¸ºäº†è§£å¶ä»£ç ,å¯¹ä»£ç è¿›è¡Œåˆ†å±‚,å„æ¨¡å—å„å¸å…¶èŒ,æ‰€ä»¥æ—¢ç„¶ä½¿ç”¨äº†æ¶æ„æ¨¡å¼é‚£å°±è¦éµå®ˆå¥½è§„èŒƒ
* Repository ä»“åº“å±‚è´Ÿè´£æ•°æ®çš„æä¾›,ViewModel æ— éœ€å…³å¿ƒæ•°æ®çš„æ¥æº,Repository å†…é¿å…ä½¿ç”¨ LiveData,æ¡†æ¶é‡Œä½¿ç”¨äº† Kotlin åç¨‹çš„ Flow è¿›è¡Œå¤„ç†è¯·æ±‚æˆ–è®¿é—®æ•°æ®åº“,æœ€åå°†æ•°æ®å‘å°„åˆ° ViewModel è°ƒç”¨è€…,Flowä¸Šæ¸¸è´Ÿè´£æä¾›æ•°æ®,ä¸‹æ¸¸ä¹Ÿå°±æ˜¯ViewModelè·å–åˆ°æ•°æ®ä½¿ç”¨LiveDataè¿›è¡Œå­˜å‚¨,Viewå±‚è®¢é˜…LiveData,å®ç°æ•°æ®é©±åŠ¨è§†å›¾
* ä¸‰è€…çš„ä¾èµ–éƒ½æ˜¯å•å‘ä¾èµ–,View -> ViewModel -> Repository  

# <p align="center"> ç¤ºä¾‹ä»£ç åŠæ³¨æ„äº‹é¡¹ğŸ½</p>

## ViewModel
`ViewModel` ç±»æ—¨åœ¨ä»¥æ³¨é‡ç”Ÿå‘½å‘¨æœŸçš„æ–¹å¼å­˜å‚¨å’Œç®¡ç†ç•Œé¢ç›¸å…³çš„æ•°æ®ã€‚`ViewModel` ç±»è®©æ•°æ®å¯åœ¨å‘ç”Ÿå±å¹•æ—‹è½¬ç­‰é…ç½®æ›´æ”¹åç»§ç»­ç•™å­˜ã€‚  
**ä½¿ç”¨æ–¹å¼:**
```
class MainViewModel : ViewModel(){   
}

class MainActivity : AppCompatActivity() {
	// è·å–æ— å‚æ„é€ çš„ViewModelå®ä¾‹
    val mViewModel = ViewModelProvider(this).get(MainViewModel::class.java)
}
```
**èµ„æ–™:**  
å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/architecture/viewmodel](https://developer.android.com/topic/libraries/architecture/viewmodel)  
Android ViewModelï¼Œå†å­¦ä¸ä¼šä½ ç æˆ‘: [https://juejin.im/post/6844903919064186888](https://juejin.im/post/6844903919064186888)
## LiveData
`LiveData`æ˜¯ä¸€ç§å¯è§‚å¯Ÿçš„æ•°æ®å­˜å‚¨å™¨ç±»ã€‚ä¸å¸¸è§„çš„å¯è§‚å¯Ÿç±»ä¸åŒï¼Œ`LiveData` å…·æœ‰ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥èƒ½åŠ›ï¼Œæ„æŒ‡å®ƒéµå¾ªå…¶ä»–åº”ç”¨ç»„ä»¶ï¼ˆå¦‚ `Activity`ã€`Fragment` æˆ– `Service`ï¼‰çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™ç§æ„ŸçŸ¥èƒ½åŠ›å¯ç¡®ä¿ `LiveData` ä»…æ›´æ–°å¤„äºæ´»è·ƒç”Ÿå‘½å‘¨æœŸçŠ¶æ€çš„åº”ç”¨ç»„ä»¶è§‚å¯Ÿè€…  
LiveData åˆ†ä¸ºå¯å˜å€¼çš„`MutableLiveData`å’Œä¸å¯å˜å€¼çš„`LiveData`  
**å¸¸ç”¨æ–¹æ³•:**
```
fun test() {
        val liveData = MutableLiveData<String>()
        // è®¾ç½®æ›´æ–°æ•°æ®æº
        liveData.value = "LiveData"
        // å°†ä»»åŠ¡å‘å¸ƒåˆ°ä¸»çº¿ç¨‹ä»¥è®¾ç½®ç»™å®šå€¼
        liveData.postValue("LiveData")
        // è·å–å€¼
        val value = liveData.value
        // è§‚å¯Ÿæ•°æ®æºæ›´æ”¹(ç¬¬ä¸€ä¸ªå‚æ•°åº”æ˜¯owner:LifecycleOwner æ¯”å¦‚å®ç°äº†LifecycleOwneræ¥å£çš„Activity)
        liveData.observe(this, {
            // æ•°æ®æºæ›´æ”¹åè§¦å‘çš„é€»è¾‘
        })
    }
```
**èµ„æ–™:**  
å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/architecture/livedata](https://developer.android.com/topic/libraries/architecture/livedata)

## Lifecycle
`Lifecycle` æ˜¯ä¸€ä¸ªç±»ï¼Œç”¨äºå­˜å‚¨æœ‰å…³ç»„ä»¶ï¼ˆå¦‚ `Activity` æˆ– `Fragment`ï¼‰çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€çš„ä¿¡æ¯ï¼Œå¹¶å…è®¸å…¶ä»–å¯¹è±¡è§‚å¯Ÿæ­¤çŠ¶æ€ã€‚  
`LifecycleOwner` æ˜¯å•ä¸€æ–¹æ³•æ¥å£ï¼Œè¡¨ç¤ºç±»å…·æœ‰ `Lifecycle`ã€‚å®ƒå…·æœ‰ä¸€ç§æ–¹æ³•ï¼ˆå³ `getLifecycle()`ï¼‰ï¼Œè¯¥æ–¹æ³•å¿…é¡»ç”±ç±»å®ç°ã€‚  
å®ç° `LifecycleObserver` çš„ç»„ä»¶å¯ä¸å®ç° `LifecycleOwner` çš„ç»„ä»¶æ— ç¼ååŒå·¥ä½œï¼Œå› ä¸ºæ‰€æœ‰è€…å¯ä»¥æä¾›ç”Ÿå‘½å‘¨æœŸï¼Œè€Œè§‚å¯Ÿè€…å¯ä»¥æ³¨å†Œä»¥è§‚å¯Ÿç”Ÿå‘½å‘¨æœŸã€‚

**èµ„æ–™:**  
å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/architecture/lifecycle](https://developer.android.com/topic/libraries/architecture/lifecycle)

## ViewBinding
é€šè¿‡è§†å›¾ç»‘å®šåŠŸèƒ½ï¼Œæ‚¨å¯ä»¥æ›´è½»æ¾åœ°ç¼–å†™å¯ä¸è§†å›¾äº¤äº’çš„ä»£ç ã€‚åœ¨æ¨¡å—ä¸­å¯ç”¨è§†å›¾ç»‘å®šä¹‹åï¼Œç³»ç»Ÿä¼šä¸ºè¯¥æ¨¡å—ä¸­çš„æ¯ä¸ª XML å¸ƒå±€æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªç»‘å®šç±»ã€‚ç»‘å®šç±»çš„å®ä¾‹åŒ…å«å¯¹åœ¨ç›¸åº”å¸ƒå±€ä¸­å…·æœ‰ ID çš„æ‰€æœ‰è§†å›¾çš„ç›´æ¥å¼•ç”¨ã€‚  
åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè§†å›¾ç»‘å®šä¼šæ›¿ä»£ `findViewById`  
**ä½¿ç”¨æ–¹å¼:**  
æŒ‰æ¨¡å—å¯ç”¨`ViewBinding`
```
// æ¨¡å—ä¸‹çš„build.gradleæ–‡ä»¶
android {
	// å¼€å¯ViewBinding
    // é«˜ç‰ˆæœ¬AS
    buildFeatures {
        viewBinding = true
    }
    // ä½ç‰ˆæœ¬AS æœ€ä½3.6
    viewBinding {
        enabled = true
    }
}
```
`Activity` ä¸­ `ViewBinding` çš„ä½¿ç”¨
```
// ä¹‹å‰è®¾ç½®è§†å›¾çš„æ–¹æ³•
setContentView(R.layout.activity_main)

// ä½¿ç”¨ViewBindingåçš„æ–¹æ³•
val mBinding = ActivityMainBinding.inflate(layoutInflater)
setContentView(mBinding.root)

// ActivityMainBindingç±»æ˜¯æ ¹æ®å¸ƒå±€è‡ªåŠ¨ç”Ÿæˆçš„ å¦‚æœæ²¡æœ‰è¯·å…ˆbuildä¸€ä¸‹é¡¹ç›®
// ViewBindingä¼šå°†æ§ä»¶idè½¬æ¢ä¸ºå°é©¼å³°å‘½åæ³•,æ‰€ä»¥ä¸ºäº†ä¿æŒä¸€è‡´è§„èŒƒ,åœ¨xmlé‡Œå£°æ˜idæ—¶ä¹Ÿè¯·ä½¿ç”¨å°é©¼å³°å‘½åæ³•
// æ¯”å¦‚ä½ æœ‰ä¸€ä¸ªidä¸ºmTextçš„æ§ä»¶,å¯ä»¥è¿™æ ·ä½¿ç”¨
mBinding.mText.text = "ViewBinding"
```
`Fragment` ä¸­ `ViewBinding` çš„ä½¿ç”¨
```
// åŸæ¥çš„å†™æ³•
return inflater.inflate(R.layout.fragment_blank, container, false)

// ä½¿ç”¨ViewBindingçš„å†™æ³•
mBinding = FragmentBlankBinding.inflate(inflater)
return mBinding.root
```
**èµ„æ–™:**  
å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/view-binding](https://developer.android.com/topic/libraries/view-binding)  
CSDN: [https://blog.csdn.net/u010976213/article/details/104501830?depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5&utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5](https://blog.csdn.net/u010976213/article/details/104501830?depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5&utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5)

## ARoute
`ARoute`æ˜¯é˜¿é‡Œå·´å·´çš„ä¸€ä¸ªç”¨äºå¸®åŠ© Android App è¿›è¡Œç»„ä»¶åŒ–æ”¹é€ çš„æ¡†æ¶ â€”â€” æ”¯æŒæ¨¡å—é—´çš„è·¯ç”±ã€é€šä¿¡ã€è§£è€¦  
**ä½¿ç”¨æ–¹å¼:**
```
// 1.åœ¨éœ€è¦è¿›è¡Œè·¯ç”±è·³è½¬çš„Activityæˆ–Fragmentä¸Šæ·»åŠ  @Route æ³¨è§£
@Route(path = "/test/activity")
public class YourActivity extend Activity {
    ...
}

// 2.å‘èµ·è·¯ç”±è·³è½¬
ARouter.getInstance()
    .build("ç›®æ ‡è·¯ç”±åœ°å€")
    .navigation()
    
// 3.æºå¸¦å‚æ•°è·³è½¬
ARouter.getInstance()
	.build("ç›®æ ‡è·¯ç”±åœ°å€")
    .withLong("key1", 666L)
    .withString("key3", "888")
    .withObject("key4", new Test("Jack", "Rose"))
    .navigation()

// 4.æ¥æ”¶å‚æ•°
@Route(path = RouteUrl.MainActivity2)
class MainActivity : AppCompatActivity() {

    // é€šè¿‡nameæ¥æ˜ å°„URLä¸­çš„ä¸åŒå‚æ•°
    @Autowired(name = "key")
    lateinit var name: String
    
	override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(mBinding.root)
        // ARouter ä¾èµ–æ³¨å…¥ ARouterä¼šè‡ªåŠ¨å¯¹å­—æ®µè¿›è¡Œèµ‹å€¼ï¼Œæ— éœ€ä¸»åŠ¨è·å–
        ARouter.getInstance().inject(this)
    }
}

// 5.è·å–Fragment
Fragment fragment = (Fragment) ARouter.getInstance().build("/test/fragment").navigation();
```
**èµ„æ–™:**   
å®˜æ–¹æ–‡æ¡£:[https://github.com/alibaba/ARouter](https://github.com/alibaba/ARouter)

## å±å¹•é€‚é… AndroidAutoSize
å±å¹•é€‚é…ä½¿ç”¨çš„æ˜¯ JessYan å¤§ä½¬çš„ ä»Šæ—¥å¤´æ¡å±å¹•é€‚é…æ–¹æ¡ˆç»ˆæç‰ˆ  
GitHub: [https://github.com/JessYanCoding/AndroidAutoSize](https://github.com/JessYanCoding/AndroidAutoSize)  
**ä½¿ç”¨æ–¹å¼:**
```
// åœ¨æ¸…å•æ–‡ä»¶ä¸­å£°æ˜
<manifest>
    <application> 
    // ä¸»å•ä½ä½¿ç”¨dp æ²¡è®¾ç½®å‰¯å•ä½
        <meta-data
            android:name="design_width_in_dp"
            android:value="360"/>
        <meta-data
            android:name="design_height_in_dp"
            android:value="640"/>           
     </application>           
</manifest>

// é»˜è®¤æ˜¯ä»¥ç«–å±çš„å®½åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é…
// å¦‚æœæ˜¯æ¨ªå±é¡¹ç›®è¦é€‚é…Pad(Padé€‚é…å°½é‡ä½¿ç”¨ä¸¤å¥—å¸ƒå±€ å› ä¸ºæ‰‹æœºå’ŒPadå±å¹•å®½æ¯”å·®è·å¾ˆå¤§ æ— æ³•å®Œç¾é€‚é…)
<manifest>
    <application>            
    // ä»¥é«˜åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é… (è¿˜éœ€è¦æ‰‹åŠ¨ä»£ç è®¾ç½®ä»¥é«˜åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é…) ç›®å‰ä»¥é«˜åº¦é€‚é…æ¯”å®½åº¦ä¸ºåŸºå‡†é€‚é… æ•ˆæœè¦å¥½
        <meta-data
            android:name="design_height_in_dp"
            android:value="400"/>           
     </application>           
</manifest>

// åœ¨Application ä¸­è®¾ç½®
// å±å¹•é€‚é… AndroidAutoSize ä»¥æ¨ªå±é«˜åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é…
AutoSizeConfig.getInstance().isBaseOnWidth = false
```
## EventBus APT
äº‹ä»¶æ€»çº¿è¿™é‡Œé€‰æ‹©çš„è¿˜æ˜¯`EventBus`,ä¹Ÿæœ‰å¾ˆå¤šæ¯”è¾ƒæ–°çš„äº‹ä»¶æ€»çº¿æ¡†æ¶,è¿˜æ˜¯é€‰æ‹©äº†è¿™ä¸ªç›´æ¥ä¸Šæ‰‹çš„
åœ¨æ¡†æ¶å†…æˆ‘å¯¹`EventBus`è¿›è¡Œäº†åŸºç±»å°è£…,è‡ªåŠ¨æ³¨å†Œå’Œè§£é™¤æ³¨å†Œ,åœ¨éœ€è¦æ³¨å†Œçš„ç±»ä¸Šæ·»åŠ `@EventBusRegister`æ³¨è§£å³å¯,æ— éœ€å…³å¿ƒå†…å­˜æ³„æ¼åŠæ²¡åŠæ—¶è§£é™¤æ³¨å†Œçš„æƒ…å†µ,åŸºç±»é‡Œå·²ç»åšäº†å¤„ç†
```
@EventBusRegister
class MainActivity : AppCompatActivity() {
}
```
å¾ˆå¤šä½¿ç”¨`EventBus`çš„å…¶å®éƒ½æ²¡æœ‰å‘ç°APTçš„åŠŸèƒ½,è¿™æ˜¯`EventBus3.0`çš„é‡å¤§æ›´æ–°,ä½¿ç”¨`EventBus APT`å¯ä»¥ç¼–è¯‘æœŸç”Ÿæˆè®¢é˜…ç±»,è¿™æ ·å°±å¯ä»¥é¿å…ä½¿ç”¨ä½æ•ˆç‡çš„åå°„,å¾ˆå¤šäººä¸çŸ¥é“è¿™ä¸ªæ›´æ–°,ç”¨ç€3.0çš„ç‰ˆæœ¬,å®é™…ä¸Šå´æ˜¯2.0çš„æ•ˆç‡
é¡¹ç›®ä¸­å·²ç»åœ¨å„æ¨¡å—ä¸­å¼€å¯äº†`EventBus APT`,`EventBus`ä¼šåœ¨ç¼–è¯‘å™¨å¯¹å„æ¨¡å—ç”Ÿæˆè®¢é˜…ç±»,éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä»£ç å»é›†æˆè¿™äº›è®¢é˜…ç±»
```
// å› ä¸ºAppåŒ…ä¾èµ–äº†æ‰€æœ‰çš„æ¨¡å—æ‰€ä»¥é€‰æ‹©åœ¨AppåŒ…ä¸‹çš„Applicationä¸­è¿›è¡Œè®¾ç½®
// å¼€å¯EventBus APT
EventBus
     .builder()
	 .addIndex("å„æ¨¡å—ç”Ÿæˆçš„è®¢é˜…ç±»çš„å®ä¾‹ ç±»ååœ¨ moduleBase.gradle è„šæœ¬ä¸­è¿›è¡Œäº†è®¾ç½® æ¯”å¦‚ Lib_Main ç”Ÿæˆçš„è®¢é˜…ç±»å°±æ˜¯ MainEventIndex")
     .installDefaultEventBus()
```

## PermissionX 
`PermissionX` æ˜¯éƒ­éœ–çš„ä¸€ä¸ªæƒé™ç”³è¯·æ¡†æ¶  
**ä½¿ç”¨æ–¹å¼:**
```
PermissionX.init(this)
     .permissions("éœ€è¦ç”³è¯·çš„æƒé™")
     .request { allGranted, grantedList, deniedList -> }
```
**èµ„æ–™:**  
GitHub: [https://github.com/guolindev/PermissionX](https://github.com/guolindev/PermissionX)
## ç»„ä»¶åŒ–èµ„æºå‘½åå†²çª
ç»„ä»¶åŒ–æ–¹æ¡ˆä¸­æœ‰ä¸€ä¸ªå‘å°±æ˜¯èµ„æºå‘½åå†²çªçš„é—®é¢˜,å°åˆ™å¯¼è‡´åˆå¹¶æ¸…å•æ–‡ä»¶æ—¶èµ„æºä¸¢å¤±,å¤§åˆ™ç›´æ¥å¯¼è‡´å´©æºƒ
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜,éœ€è¦åœ¨`build.gradle`æ–‡ä»¶ä¸­,å¯¹å„æ¨¡å—å£°æ˜èµ„æºå‰ç¼€è§„åˆ™
```
android {
	// å‰ç¼€æœ€å¥½ä»¥ç»„ä»¶åŒ…åè§„å®š
    resourcePrefix "main_"
}
```
## Kotlin åç¨‹
`Kotlin Coroutines` æ˜¯ä¸€å¥—è§£å†³å¼‚æ­¥ç¼–ç¨‹çš„æ–¹æ¡ˆ,åœ¨ Android å¹³å°å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹æ¡†æ¶,ç”¨äº†éƒ½è¯´å¥½
**ä½¿ç”¨ç¤ºä¾‹:**
* `Activity` ä¸­
```
// åœ¨ Activity ä¸­ å¯ä»¥ä½¿ç”¨ lifecycleScope åç¨‹ä½œç”¨åŸŸ è¿›è¡Œå¼€å¯åç¨‹ 
// lifecycleScope æ˜¯ LifecycleOwner çš„æ‰©å±•å±æ€§ ä½¿ç”¨ lifecycleScope ä½ å°±æ— éœ€å…³å¿ƒActivityå£°æ˜å‘¨æœŸçš„é—®é¢˜ æ— éœ€å…³å¿ƒå› ä¸ºç”Ÿå‘½å‘¨æœŸå¯¼è‡´çš„åç¨‹æ³„æ¼çš„é—®é¢˜ å¯ä»¥è¯´æ˜¯çœŸæ–¹ä¾¿
// ä½¿ç”¨ç¤ºä¾‹
lifecycleScope.launch(Dispatchers.Default) {
    delay(1000L)
    ARouter.getInstance()
        .build(RouteUrl.MainActivity)
        .navigation()
    delay(100L)
    finish()
}
// launch() å‡½æ•°å¼€å¯äº†ä¸€ä¸ªåç¨‹ è°ƒåº¦å™¨é»˜è®¤æ˜¯Main è¿™é‡Œæˆ‘æŒ‡å®šäº† Dispatchers.Default 
// ä½¿ç”¨é»˜è®¤è°ƒåº¦å™¨å¯ä»¥ç›´æ¥ä½¿ç”¨ launch{}
// Activity ä¸­è¿˜æœ‰ä¸€ä¸ªåç¨‹ä½œç”¨åŸŸå¯ä»¥ä½¿ç”¨ å°±æ˜¯ MainScope() å®ƒä¼šè¿”å›ä¸€ä¸ªåç¨‹ä½œç”¨åŸŸå®ä¾‹ ä½¿ç”¨è¿™ä¸ªå°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»å¤„ç†å£°æ˜å‘¨æœŸçš„é—®é¢˜äº†
```
* `ViewModel` ä¸­ä½¿ç”¨
```
// åœ¨ ViewModel ä¸­å¯ä»¥ä½¿ç”¨
viewModelScope.launch {}
// é»˜è®¤çš„è°ƒåº¦å™¨ä¹Ÿæ˜¯Main åŒæ ·ä¹Ÿä¸éœ€è¦æˆ‘ä»¬å»åšç”Ÿå‘½å‘¨æœŸçš„å¤„ç†
```
* `Flow`  
`Flow`ç±»ä¼¼äº`RxJava`,å®ƒä¹Ÿæœ‰ä¸€ç³»åˆ—çš„æ“ä½œç¬¦  
**èµ„æ–™:**  
Google æ¨èåœ¨ MVVM æ¶æ„ä¸­ä½¿ç”¨ Kotlin Flow: [https://juejin.im/post/6854573211930066951](https://juejin.im/post/6854573211930066951)  
å³å­¦å³ç”¨Kotlin - åç¨‹: [https://juejin.im/post/6854573211418361864](https://juejin.im/post/6854573211418361864)  
Kotlin Coroutines Flow ç³»åˆ—(1-5): [https://juejin.im/post/6844904057530908679](https://juejin.im/post/6844904057530908679)  

## ç»“è¯­
* æœ¬äººæ˜¯ä¸€ä¸ªåˆšå¤§å­¦æ¯•ä¸šçš„ Android å¼€å‘è€…,æŠ€æœ¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒè–„å¼±,å†™è¿™ä¸ªæ¡†æ¶ä¸»è¦æ˜¯ä¸ºäº†åœ¨ä»¥åè‡ªå·±ä½¿ç”¨ã€å¯¹è‡ªå·±æŠ€æœ¯åšä¸€ä¸ªæ€»ç»“ã€å¯¹å…¶ä»–æƒ³å­¦ä¹ çš„åŒå­¦æä¾›ä¸€ä¸ªä¾‹å­ã€ä¹Ÿæ˜¯æƒ³æŠŠä¸€äº›ä¸œè¥¿å¼€æºå‡ºå»,è®©è¿™ä¸ªç¤¾åŒºæ›´åŠ çš„ç¾å¥½ã€‚æ–‡æ¡£ä¸­å¯èƒ½æœ‰äº›æè¿°ä¸å¤ªä¸“ä¸šå’Œç”Ÿç¡¬,æˆ‘ä¹Ÿå¾ˆå°‘å†™è¿™äº›ä¸œè¥¿,æ‰€ä»¥è¡¨è¾¾èµ·æ¥å¾ˆç”Ÿç–ã€‚
* å¦‚æœä½ ç»å¯¹è¯¥é¡¹ç›®å¯¹ä½ æœ‰ç”¨,é‚£å°±è¯·ç»™ä¸€ä¸ª starğŸŒŸå§ğŸ¥°