# <p align="center"> AndroidBaseFrameMVVM ğŸ½</p>

> &emsp;&emsp;**AndroidBaseFrameMVVM** æ˜¯ä¸€ä¸ªAndroidå·¥ç¨‹æ¡†æ¶ï¼Œæ‰€ä½¿ç”¨æŠ€æœ¯æ ˆä¸ºï¼š**ç»„ä»¶åŒ–ã€Kotlinã€MVVMã€Jetpackã€Repositoryã€Kotlin-Coroutine-Flow**ï¼Œæœ¬æ¡†æ¶æ—¢æ˜¯ä¸€ä¸ªå¯ä»¥å¼€ç®±å³ç”¨çš„å·¥ç¨‹æ¡†æ¶åŸºç¡€å±‚ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å­¦ä¹ èµ„æºï¼Œæ–‡æ¡£ä¸‹é¢ä¼šå¯¹æ¡†æ¶ä¸­æ‰€ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæŠ€æœ¯è¿›è¡Œé˜è¿°ã€‚è¯¥æ¡†æ¶ä½œä¸ºä¸ªäººæŠ€æœ¯ç§¯ç´¯çš„äº§ç‰©ï¼Œä¼šä¸€ç›´æ›´æ–°ç»´æŠ¤ï¼Œå¦‚æœæœ‰æŠ€æœ¯æ–¹é¢çš„è°ˆè®ºæˆ–è€…æ¡†æ¶ä¸­çš„é”™è¯¯ç‚¹ï¼Œå¯ä»¥åœ¨ **GitHub** ä¸Šæ **Issues**ï¼Œæˆ‘ä¼šåŠæ—¶è¿›è¡Œå›åº”ã€‚å¸Œæœ›è¿™ä¸ªæ¡†æ¶é¡¹ç›®èƒ½ç»™å¤§å®¶å¸¦æ¥å¸®åŠ©ï¼Œå–œæ¬¢å¯ä»¥StartğŸŒŸã€‚
>
> &emsp;&emsp;é¡¹ç›®åœ°å€ï¼š[AndroidBaseFrameMVVM](https://github.com/Quyunshuo/AndroidBaseFrameMVVM)

## Demo

â€‹		ä»¥é¸¿æ´‹å¤§ç¥çš„ç©å®‰å“å¼€æ”¾Apiåšäº†ç®€å•çš„é¡µé¢ç¤ºä¾‹ï¼Œä»“åº“åœ°å€ï¼š[WanAndroidMVVM](https://github.com/Quyunshuo/WanAndroidMVVM)

## æ¡†æ¶å›¾ç¤º

**è°·æ­Œ Android å›¢é˜Ÿ Jetpack è§†å›¾æ¨¡å‹ï¼š**

<p align="center"><img src="https://github.com/Quyunshuo/AndroidBaseFrameMVVM/blob/master/img/img2.png"/> </p>

## æ¨¡å—

- **app:** 

  **appå£³** å·¥ç¨‹ï¼Œæ˜¯ä¾èµ–æ‰€æœ‰ç»„ä»¶çš„å£³ï¼Œè¯¥æ¨¡å—ä¸åº”è¯¥åŒ…å«ä»»ä½•ä»£ç ï¼Œå®ƒåªä½œä¸ºä¸€ä¸ªç©ºå£³å­˜åœ¨ï¼Œç”±äºé¡¹ç›®ä¸­ä½¿ç”¨äº†EventBusAPTæŠ€æœ¯ï¼Œéœ€è¦ç´¢å¼•åˆ°å„ä¸šåŠ¡ç»„ä»¶çš„å¯¹åº”çš„APTç”Ÿæˆç±»ï¼Œæ‰€ä»¥åœ¨ **appå£³** å†…æœ‰è¿™ä¸€éƒ¨åˆ†çš„ä»£ç ã€‚


- **buildSrc:** 

  è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶å¤¹ï¼Œè´Ÿè´£é¡¹ç›®çš„æ„å»ºï¼Œé‡Œé¢å­˜æ”¾ç€ä¸€äº›é¡¹ç›®æ„å»ºæ—¶ç”¨åˆ°çš„ä¸œè¥¿ï¼Œæ¯”å¦‚é¡¹ç›®é…ç½®ï¼Œä¾èµ–ã€‚è¿™é‡Œé¢è¿˜æ˜¯å­˜æ”¾ **Gradle** æ’ä»¶çš„åœ°æ–¹ï¼Œä¸€äº›è‡ªå®šä¹‰çš„ **Gradle** çš„æ’ä»¶éƒ½éœ€è¦æ”¾åœ¨æ­¤å¤„ã€‚

- **lib_base:** 

  é¡¹ç›®çš„åŸºç¡€å…¬å…±æ¨¡å—ï¼Œå­˜æ”¾ç€å„ç§åŸºç±»å°è£…ã€å¯¹è¿œç¨‹åº“çš„ä¾èµ–ã€ä»¥åŠå·¥å…·ç±»ã€ä¸‰æ–¹åº“å°è£…ï¼Œè¯¥ç»„ä»¶æ˜¯å’Œé¡¹ç›®ä¸šåŠ¡æ— å…³çš„ï¼Œå’Œé¡¹ç›®ä¸šåŠ¡ç›¸å…³çš„å…¬å…±éƒ¨åˆ†éœ€è¦æ”¾åœ¨ **lib_common** ä¸­ã€‚

- **lib_common:** 

  é¡¹ç›®çš„ä¸šåŠ¡å…¬å…±æ¨¡å—ï¼Œè¿™é‡Œé¢å­˜æ”¾ç€é¡¹ç›®é‡Œå„ä¸ªä¸šåŠ¡ç»„ä»¶çš„å…¬å…±éƒ¨åˆ†ï¼Œè¿˜æœ‰ä¸€äº›é¡¹ç›®ç‰¹å®šéœ€è¦çš„ä¸€äº›æ–‡ä»¶ç­‰ï¼Œè¯¥ç»„ä»¶æ˜¯å’Œé¡¹ç›®ä¸šåŠ¡æœ‰å…³ç³»çš„ã€‚

## ç»„ä»¶åŒ–ç›¸å…³

### ç»„ä»¶åˆå§‹åŒ–

> &emsp;&emsp;ä¸ºäº†æ›´å¥½çš„ä»£ç éš”ç¦»ä¸è§£è€¦ï¼Œåœ¨ç‰¹å®šç»„ä»¶å†…ä½¿ç”¨çš„SDKåŠä¸‰æ–¹åº“ï¼Œåº”è¯¥åªåœ¨è¯¥ç»„ä»¶å†…ä¾èµ–ï¼Œä¸åº”è¯¥è®©è¯¥ç»„ä»¶çš„ç‰¹å®šSDKåŠä¸‰æ–¹åº“çš„APIæš´éœ²ç»™å…¶ä»–ä¸éœ€è¦ç”¨çš„ç»„ä»¶ã€‚æœ‰ä¸€ä¸ªé—®é¢˜å°±å‡ºç°äº†ï¼ŒSDKåŠä¸‰æ–¹åº“å¸¸å¸¸éœ€è¦æ‰‹åŠ¨å»åˆå§‹åŒ–ï¼Œè€Œä¸”ä¸€èˆ¬éƒ½éœ€è¦åœ¨é¡¹ç›®ä¸€å¯åŠ¨ï¼ˆå³ **Application** ä¸­ï¼‰åˆå§‹åŒ–ï¼Œä½†æ˜¯ä¸€ä¸ªé¡¹ç›®è‚¯å®šåªèƒ½æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„ **Application**ï¼Œè¯¥é¡¹ç›®ä¸­çš„è‡ªå®šä¹‰ **Application** åœ¨ **lib_base** æ¨¡å—ä¸­ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯åœ¨ **lib_base** æ¨¡å—ä¸­çš„æ¸…å•æ–‡ä»¶ä¸­å£°æ˜çš„ï¼Œé‚£å…¶ä»–ç»„ä»¶è¯¥å¦‚ä½•åˆå§‹åŒ–å‘¢ï¼Ÿå¸¦ç€è¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä¸€èµ·æ¥æ·±å…¥ç ”ç©¶ä¸‹ã€‚

**å¸¸è§çš„ç»„ä»¶åˆå§‹åŒ–è§£å†³æ–¹æ¡ˆï¼š**

åœ¨æˆ‘çš„äº†è§£èŒƒå›´å†…ï¼Œç›®å‰æœ‰ä¸¤ç§æœ€ä¸ºå¸¸è§çš„è§£å†³æ–¹æ¡ˆï¼š

- **é¢å‘æ¥å£ç¼–ç¨‹ + åå°„æ‰«æå®ç°ç±»ï¼š**

  &emsp;&emsp;è¯¥æ–¹æ¡ˆæ˜¯åŸºäºæ¥å£ç¼–ç¨‹ï¼Œè‡ªå®šä¹‰ **Application** å»å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¥å£ï¼ˆ**interface**ï¼‰ï¼Œè¿™ä¸ªæ¥å£ä¸­å®šä¸€äº›å’Œ **Application** ç”Ÿå‘½å‘¨æœŸç›¸å¯¹åº”çš„æŠ½è±¡æ–¹æ³•åŠå…¶ä»–è‡ªå®šä¹‰çš„æŠ½è±¡æ–¹æ³•ï¼Œæ¯ä¸ªç»„ä»¶å»ç¼–å†™ä¸€ä¸ªå®ç°ç±»ï¼Œè¯¥å®ç°ç±»å°±ç±»ä¼¼äºä¸€ä¸ªå‡çš„è‡ªå®šä¹‰ **Application**ï¼Œç„¶ååœ¨çœŸæ­£çš„è‡ªå®šä¹‰ **Application** ä¸­å»é€šè¿‡åå°„å»åŠ¨æ€æŸ¥æ‰¾å½“å‰è¿è¡Œæ—¶ç¯å¢ƒä¸­æ‰€æœ‰è¯¥æ¥å£çš„å®ç°ç±»ï¼Œå¹¶ä¸”å»è¿›è¡Œå®ä¾‹åŒ–ï¼Œç„¶åå°†è¿™äº›å®ç°ç±»æ”¶é›†åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œåœ¨ **Application** çš„å¯¹åº”å£°æ˜å‘¨æœŸæ–¹æ³•ä¸­å»é€ä¸€è°ƒç”¨å¯¹åº”æ–¹æ³•ï¼Œä»¥å®ç°å„å®ç°ç±»èƒ½å¤Ÿå’Œ **Application** ç”Ÿå‘½å‘¨æœŸç›¸åŒæ­¥ï¼Œå¹¶ä¸”æŒæœ‰ **Application** çš„å¼•ç”¨åŠ **context** ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ç»„ä»¶å†…æ¨¡æ‹Ÿ **Application** çš„ç”Ÿå‘½å‘¨æœŸå¹¶åˆå§‹åŒ–SDKå’Œä¸‰æ–¹åº“ã€‚ä½¿ç”¨åå°„è¿˜éœ€è¦åšä¸€äº›å¼‚å¸¸çš„å¤„ç†ã€‚è¯¥æ–¹æ¡ˆæ˜¯æˆ‘è§è¿‡çš„æœ€å¸¸è§çš„æ–¹æ¡ˆï¼Œåœ¨ä¸€äº›å•†ä¸šé¡¹ç›®ä¸­ä¹Ÿè§åˆ°è¿‡ã€‚

- **é¢å‘æ¥å£ç¼–ç¨‹ + meta-data + åå°„ï¼š**

  &emsp;&emsp;è¯¥æ–¹æ¡ˆçš„ååŠéƒ¨åˆ†ä¹Ÿæ˜¯å’Œç¬¬ä¸€ç§æ–¹æ³•ä¸€æ ·ï¼Œé€šè¿‡æ¥å£ç¼–ç¨‹å®ç° **Application** çš„ç”Ÿå‘½å‘¨æœŸåŒæ­¥ï¼Œå…¶å®è¿™ä¸€æ­¥æ˜¯é¿å…ä¸äº†çš„ï¼Œåœ¨æˆ‘çš„æ–¹æ¡ˆä¸­ï¼ŒååŠéƒ¨åˆ†ä¹Ÿæ˜¯è¿™æ ·å®ç°çš„ã€‚ä¸åŒçš„æ˜¯å‰åŠéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•æ‰¾åˆ°æ¥å£çš„å®ç°ç±»ï¼Œè¯¥æ–¹æ¡ˆä½¿ç”¨çš„æ˜¯ **AndroidManifest** çš„ **meta-data** æ ‡ç­¾ï¼Œé€šè¿‡æ¯ä¸ªç»„ä»¶å†…çš„ **AndroidManifest** å†…å»å£°æ˜ä¸€ä¸ª **meta-data** æ ‡ç­¾ï¼ŒåŒ…å«è¯¥ç»„ä»¶å®ç°ç±»çš„ä¿¡æ¯ï¼Œç„¶ååœ¨ **Application** ä¸­å»æ‰¾åˆ°è¿™äº›é…ç½®ä¿¡æ¯ï¼Œç„¶åé€šè¿‡åå°„å»åˆ›å»ºè¿™äº›å®ç°ç±»çš„å®ä¾‹ï¼Œå†å°†å®ƒä»¬æ”¶é›†åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œå‰©ä¸‹çš„æ“ä½œåŸºæœ¬ç›¸åŒäº†ã€‚è¯¥æ–¹æ¡ˆå’Œç¬¬ä¸€ç§æ–¹æ¡ˆä¸€æ ·éƒ½éœ€è¦å¤„ç†å¾ˆå¤šçš„å¼‚å¸¸ã€‚è¿™ç§æ–¹æ¡ˆæˆ‘åœ¨ä¸€äº›å¼€æºé¡¹ç›®ä¸­è§åˆ°è¿‡ï¼Œä¸ªäººè®¤ä¸ºè¿‡äºç¹çï¼Œè¿˜è¦å¤„ç†å¾ˆå¤šçš„å¼‚å¸¸ã€‚

**æœ¬é¡¹ç›®ä¸­æ‰€ä½¿ç”¨çš„æ–¹æ¡ˆï¼š**

- **é¢å‘æ¥å£ç¼–ç¨‹ + Javaçš„SPIæœºåˆ¶ï¼ˆServiceLoaderï¼‰+AutoServiceï¼š**

  &emsp;&emsp;å…ˆæ¥è®¤è¯†ä¸‹ **Java** çš„ **SPI** æœºåˆ¶ï¼šé¢å‘çš„å¯¹è±¡çš„è®¾è®¡é‡Œï¼Œæˆ‘ä»¬ä¸€èˆ¬æ¨èæ¨¡å—ä¹‹é—´åŸºäºæ¥å£ç¼–ç¨‹ï¼Œæ¨¡å—ä¹‹é—´ä¸å¯¹å®ç°ç±»è¿›è¡Œç¡¬ç¼–ç ã€‚ä¸€æ—¦ä»£ç é‡Œæ¶‰åŠå…·ä½“çš„å®ç°ç±»ï¼Œå°±è¿åäº†å¯æ‹”æ’çš„åŸåˆ™ï¼Œå¦‚æœéœ€è¦æ›¿æ¢ä¸€ç§å®ç°ï¼Œå°±éœ€è¦ä¿®æ”¹ä»£ç ã€‚ä¸ºäº†å®ç°åœ¨æ¨¡å—è£…é…çš„æ—¶å€™ä¸ç”¨åœ¨ç¨‹åºé‡ŒåŠ¨æ€æŒ‡æ˜ï¼Œè¿™å°±éœ€è¦ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚**JavaSPI** å°±æ˜¯æä¾›è¿™æ ·çš„ä¸€ä¸ªæœºåˆ¶ï¼šä¸ºæŸä¸ªæ¥å£å¯»æ‰¾æœåŠ¡å®ç°çš„æœºåˆ¶ã€‚è¿™æœ‰ç‚¹ç±»ä¼¼ **IOC** çš„æ€æƒ³ï¼Œå°†è£…é…çš„æ§åˆ¶æƒç§»åˆ°äº†ç¨‹åºä¹‹å¤–ã€‚è¿™æ®µè¯ä¹Ÿæ˜¯æˆ‘å¤åˆ¶çš„åˆ«äººçš„ï¼Œå¬èµ·æ¥å¾ˆæ‡µé€¼ï¼Œå¤§è‡´æ„æ€å°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ **SPI** æœºåˆ¶å°†å®ç°ç±»æš´éœ²å‡ºå»ã€‚å…³äºå¦‚ä½•ä½¿ç”¨ **SPI**ï¼Œè¿™é‡Œä¸åœ¨é™ˆè¿°ï¼Œæ€»ä¹‹æ˜¯æˆ‘ä»¬åœ¨å„ç»„ä»¶å†…é€šè¿‡ **SPI** å»å°†å®ç°ç±»æš´éœ²å‡ºå»ï¼Œåœ¨ **Application** ä¸­æˆ‘ä»¬é€šè¿‡ **Java** æä¾›çš„ **SPI** **API** å»è·å–è¿™äº›æš´éœ²çš„æœåŠ¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ‹¿åˆ°äº†è¿™äº›ç±»çš„å®ä¾‹ï¼Œå‰©ä¸‹çš„æ­¥éª¤å°±å’Œä¸Šé¢çš„æ–¹æ¡ˆä¸€æ ·äº†ï¼Œé€šè¿‡ä¸€ä¸ªé›†åˆéå†å®ç°ç±»è°ƒç”¨å…¶ç›¸åº”çš„æ–¹æ³•å®Œæˆåˆå§‹åŒ–çš„å·¥ä½œã€‚ç”±äºä½¿ç”¨ **SPI** éœ€è¦åœ¨æ¯ä¸ªæ¨¡å—åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶é…ç½®ï¼Œè¿™æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ **Google** çš„ **AutoService** åº“æ¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºè¿™äº›é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå°±æ˜¯åœ¨å®ç°ç±»æ·»åŠ ä¸€ä¸ª **AutoService** æ³¨è§£ã€‚æœ¬æ¡†æ¶ä¸­çš„æ ¸å¿ƒç±»æ˜¯è¿™å‡ ä¸ªï¼š**lib_base-LoadModuleProxy**ã€**lib_base-ApplicationLifecycle**ã€‚è¿™ç§æ–¹æ¡ˆæ˜¯æˆ‘è¯·æ•™çš„ä¸€ä¸ªç±³å“ˆæ¸¸çš„å¤§ä½¬ï¼Œè¿™ä½å¤§ä½¬å‘Šè¯‰æˆ‘åœ¨ç»„ä»¶åŒ–ä¸­ç»„ä»¶çš„åˆå§‹åŒ–å¯ä»¥ä½¿ç”¨ **ServiceLoader** æ¥åšï¼Œäºæ˜¯æˆ‘å°±å»ç ”ç©¶äº†ä¸‹ï¼Œæœ€åå‘ç°è¿™ç§æ–¹æ¡ˆè¿˜ä¸é”™ï¼Œæ¯”å‰é¢æåˆ°çš„ä¸¤ç§æ–¹æ¡ˆéƒ½è¦ç®€å•ã€å®‰å…¨ã€‚

### èµ„æºå‘½åå†²çª

&emsp;&emsp;åœ¨ç»„ä»¶åŒ–æ–¹æ¡ˆä¸­ï¼Œèµ„æºå‘½åå†²çªæ˜¯ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œç”±äºåœ¨æ‰“åŒ…æ—¶ä¼šè¿›è¡Œèµ„æºçš„åˆå¹¶ï¼Œå¦‚æœä¸¤ä¸ªæ¨¡å—ä¸­æœ‰ä¸¤ä¸ªç›¸åŒåå­—çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆæœ€ååªä¼šä¿ç•™ä¸€ä»½ï¼Œå¦‚æœä¸çŸ¥é“è¿™ä¸ªé—®é¢˜çš„å°ä¼™ä¼´ï¼Œåœ¨é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶è‚¯å®šæ˜¯ä¸€è„¸æ‡µé€¼çš„çŠ¶æ€ã€‚é—®é¢˜æ—¢ç„¶å·²ç»å‡ºç°ï¼Œé‚£æˆ‘ä»¬å°±è¦å»è§£å†³ï¼Œè§£å†³åŠæ³•å°±æ˜¯æ¯ä¸ªç»„ä»¶éƒ½ç”¨å›ºå®šçš„å‘½åå‰ç¼€ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°ä¸¤ä¸ªç›¸åŒçš„æ–‡ä»¶çš„ç°è±¡äº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ **build.gradle** é…ç½®æ–‡ä»¶ä¸­å»é…ç½®å‰ç¼€é™å®šï¼Œå¦‚æœä¸æŒ‰è¯¥å‰ç¼€è¿›è¡Œå‘½åï¼Œ**AS** å°±ä¼šè¿›è¡Œè­¦å‘Šæç¤ºï¼Œé…ç½®å¦‚ä¸‹ï¼š

```Groovy
android {
    resourcePrefix "å‰ç¼€_"
}
```

### ç»„ä»¶åˆ’åˆ†

&emsp;&emsp;å…¶å®ç»„ä»¶çš„åˆ’åˆ†ä¸€ç›´æ˜¯ä¸€ä¸ªæ¯”è¾ƒéš¾çš„éƒ¨åˆ†ï¼Œè¿™é‡Œå…¶å®ä¹Ÿç»™ä¸åˆ°ä¸€äº›éå¸¸é€‚åˆçš„å»ºè®®ï¼Œçœ‹æ˜¯çœ‹å…·ä½“é¡¹ç›®è€Œå®šã€‚

&emsp;&emsp;å…³äºåŸºç¡€ç»„ä»¶é€šå¸¸è¦ä»¥ç‹¬ç«‹å¯ç›´æ¥å¤ç”¨çš„è§’åº¦å‡ºç°ï¼Œæ¯”å¦‚ç½‘ç»œæ¨¡å—ã€äºŒç»´ç è¯†åˆ«æ¨¡å—ç­‰ã€‚

&emsp;&emsp;å…³äºä¸šåŠ¡ç»„ä»¶ï¼Œä¸šåŠ¡ç»„ä»¶ä¸€èˆ¬å¯ä»¥è¿›è¡Œå•ç‹¬è°ƒè¯•ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä½œä¸º **app** è¿è¡Œï¼Œè¿™æ ·æ‰èƒ½å‘æŒ¥ç»„ä»¶åŒ–çš„ä¸€å¤§ç”¨å¤„ï¼Œå½“é¡¹ç›®è¶Šæ¥è¶Šå¤§ï¼Œä¸šåŠ¡ç»„ä»¶è¶Šæ¥è¶Šå¤šæ—¶ï¼Œç¼–è¯‘è€—æ—¶å°†ä¼šæ˜¯ä¸€ä¸ªéå¸¸æ£˜æ‰‹çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæ¯ä¸ªä¸šåŠ¡æ¨¡å—éƒ½å¯ä»¥è¿›è¡Œçš„å•ç‹¬è°ƒè¯•ï¼Œé‚£å°±å¤§å¤§å‡å°‘äº†ç¼–è¯‘æ—¶é—´ï¼ŒåŒæ—¶ï¼Œå¼€å‘äººå‘˜ä¹Ÿä¸éœ€è¦å…³æ³¨å…¶ä»–ç»„ä»¶ã€‚

&emsp;&emsp;å…³äºå…¬å…±æ¨¡å—ï¼Œ**lib_base** æ”¾ä¸€äº›åŸºç¡€æ€§ä»£ç ï¼Œå±äºæ¡†æ¶åŸºç¡€å±‚ï¼Œä¸åº”è¯¥å’Œé¡¹ç›®ä¸šåŠ¡æœ‰ç‰µæ‰¯ï¼Œè€Œå’Œé¡¹ç›®ä¸šåŠ¡ç›¸å…³çš„å…¬å…±éƒ¨åˆ†åˆ™åº”è¯¥æ”¾åœ¨ **lib_common** ä¸­ï¼Œä¸è¦æ±¡æŸ“ **lib_base**ã€‚

### ä¾èµ–ç‰ˆæœ¬æ§åˆ¶

&emsp;&emsp;ç»„ä»¶åŒ–å¸¸è§çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¾èµ–ç‰ˆæœ¬ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æœ‰å¯èƒ½è‡ªå·±çš„ä¾èµ–åº“ï¼Œé‚£æˆ‘ä»¬åº”è¯¥ç»Ÿä¸€ç®¡ç†å„ç§ä¾èµ–åº“åŠå…¶ç‰ˆæœ¬ï¼Œä½¿é¡¹ç›®æ‰€æœ‰ä½¿ç”¨çš„ä¾èµ–éƒ½æ˜¯åŒä¸€ä¸ªç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯ä¸åŒç‰ˆæœ¬ã€‚æœ¬é¡¹ç›®ä¸­ä½¿ç”¨ **buildSrc** ä¸­çš„å‡ ä¸ªktæ–‡ä»¶è¿›è¡Œä¾èµ–ç‰ˆæœ¬ç»Ÿä¸€æ€§çš„ç®¡ç†ï¼ŒåŠå…¶é¡¹ç›®çš„ä¸€äº›é…ç½®ã€‚

## **MVVMç›¸å…³**

* **MVVM** é‡‡ç”¨ **Jetpack** ç»„ä»¶ + **Repository** è®¾è®¡æ¨¡å¼ å®ç°ï¼Œæ‰€ä½¿ç”¨çš„ **Jetpack** å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œåƒ **DataBinding**ã€**Paging 3**ã€**Room** ç­‰å¹¶æ²¡æœ‰ä½¿ç”¨ï¼Œå¦‚æœéœ€è¦å¯ä»¥æ·»åŠ ã€‚é‡‡ç”¨æ¶æ„æ¨¡å¼ç›®çš„å°±æ˜¯ä¸ºäº†è§£å¶ä»£ç ï¼Œå¯¹ä»£ç è¿›è¡Œåˆ†å±‚ï¼Œå„æ¨¡å—å„å¸å…¶èŒï¼Œæ‰€ä»¥æ—¢ç„¶ä½¿ç”¨äº†æ¶æ„æ¨¡å¼é‚£å°±è¦éµå®ˆå¥½è§„èŒƒã€‚
* **Repository** ä»“åº“å±‚è´Ÿè´£æ•°æ®çš„æä¾›ï¼Œ**ViewModel** æ— éœ€å…³å¿ƒæ•°æ®çš„æ¥æºï¼Œ**Repository** å†…é¿å…ä½¿ç”¨ **LiveData**ï¼Œæ¡†æ¶é‡Œä½¿ç”¨äº† **Kotlin** åç¨‹çš„ **Flow** è¿›è¡Œå¤„ç†è¯·æ±‚æˆ–è®¿é—®æ•°æ®åº“ï¼Œ**Repository** çš„å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª **Flow** ç»™ **ViewModel** çš„è°ƒç”¨å‡½æ•°ï¼Œ**Flow** ä¸Šæ¸¸è´Ÿè´£æä¾›æ•°æ®ï¼Œä¸‹æ¸¸ä¹Ÿå°±æ˜¯ **ViewModel** è·å–åˆ°æ•°æ®ä½¿ç”¨ **LiveData** è¿›è¡Œå­˜å‚¨ï¼Œ**View** å±‚è®¢é˜… **LiveData**ï¼Œå®ç°æ•°æ®é©±åŠ¨è§†å›¾
* ä¸‰è€…çš„ä¾èµ–éƒ½æ˜¯å•å‘ä¾èµ–ï¼Œ**View** -> **ViewModel** -> **Repository**  

## é¡¹ç›®ä½¿ç”¨çš„ä¸‰æ–¹åº“åŠå…¶ç®€å•ç¤ºä¾‹å’Œèµ„æ–™

* [Kotlin](https://github.com/JetBrains/kotlin)
* [Kotlin-Coroutines-Flow](https://github.com/JetBrains/kotlin)
* [Lifecycle](https://developer.android.com/jetpack/androidx/releases/lifecycle)
* [ViewModel](https://developer.android.com/topic/libraries/architecture/viewmodel)
* [LiveData](https://developer.android.com/topic/libraries/architecture/livedata)
* [ViewBinding](https://developer.android.com/topic/libraries/view-binding)
* [Hilt](https://developer.android.com/jetpack/androidx/releases/hilt)
* [OkHttp](https://github.com/square/okhttp)ï¼šç½‘ç»œè¯·æ±‚
* [Retrofit](https://github.com/square/retrofit)ï¼šç½‘ç»œè¯·æ±‚
* [MMKV](https://github.com/Tencent/MMKV)ï¼šè…¾è®¯åŸºäº **mmap** å†…å­˜æ˜ å°„çš„ **key-value** æœ¬åœ°å­˜å‚¨ç»„ä»¶
* [Coil](https://github.com/coil-kt/coil)ï¼šä¸€ä¸ª Android å›¾ç‰‡åŠ è½½åº“ï¼Œé€šè¿‡ Kotlin åç¨‹çš„æ–¹å¼åŠ è½½å›¾ç‰‡
* [ARoute](https://github.com/alibaba/ARouter)ï¼šé˜¿é‡Œç”¨äºå¸®åŠ© **Android App** è¿›è¡Œç»„ä»¶åŒ–æ”¹é€ çš„æ¡†æ¶ â€”â€” æ”¯æŒæ¨¡å—é—´çš„è·¯ç”±ã€é€šä¿¡ã€è§£è€¦
* [BaseRecyclerViewAdapterHelper](https://github.com/CymChad/BaseRecyclerViewAdapterHelper)ï¼šä¸€ä¸ªå¼ºå¤§å¹¶ä¸”çµæ´»çš„ **RecyclerViewAdapter**
* [EventBus](https://github.com/greenrobot/EventBus)ï¼šé€‚ç”¨äº **Android** å’Œ **Java** çš„å‘å¸ƒ/è®¢é˜…äº‹ä»¶æ€»çº¿
* [Bugly](https://bugly.qq.com/v2/index)ï¼šè…¾è®¯å¼‚å¸¸ä¸ŠæŠ¥åŠçƒ­æ›´æ–°(åªé›†æˆäº†å¼‚å¸¸ä¸ŠæŠ¥)
* [PermissionX](https://github.com/guolindev/PermissionX)ï¼šéƒ­éœ–æƒé™è¯·æ±‚æ¡†æ¶
* [LeakCanary](https://github.com/square/leakcanary)ï¼š**Android** çš„å†…å­˜æ³„æ¼æ£€æµ‹åº“
* [AndroidAutoSize](https://github.com/JessYanCoding/AndroidAutoSize)ï¼š**JessYan** å¤§ä½¬çš„ ä»Šæ—¥å¤´æ¡å±å¹•é€‚é…æ–¹æ¡ˆç»ˆæç‰ˆ

### **Kotlinåç¨‹**

å…³äº **Kotlin åç¨‹**ï¼Œæ˜¯çœŸçš„é¦™ï¼Œå…·ä½“æ•™ç¨‹å¯ä»¥çœ‹æˆ‘çš„ä¸€ç¯‡æ–‡ç« ï¼š

- [ä¸‡å­—é•¿æ–‡ - Kotlin åç¨‹è¿›é˜¶](https://juejin.cn/post/6950616789390721037)

**Flow** ç±»ä¼¼äº **RxJava**ï¼Œå®ƒä¹Ÿæœ‰ä¸€ç³»åˆ—çš„æ“ä½œç¬¦ï¼Œèµ„æ–™ï¼š  

- [Google æ¨èåœ¨ MVVM æ¶æ„ä¸­ä½¿ç”¨ Kotlin Flow: ](https://juejin.im/post/6854573211930066951)
- [å³å­¦å³ç”¨Kotlin - åç¨‹:](https://juejin.im/post/6854573211418361864)
- [Kotlin Coroutines Flow ç³»åˆ—(1-5):](https://juejin.im/post/6844904057530908679) 

### **PermissionX**

**PermissionX** æ˜¯éƒ­éœ–çš„ä¸€ä¸ªæƒé™ç”³è¯·æ¡†æ¶
**ä½¿ç”¨æ–¹å¼:**

```
PermissionX.init(this)
     .permissions("éœ€è¦ç”³è¯·çš„æƒé™")
     .request { allGranted, grantedList, deniedList -> }
```

**èµ„æ–™:**  

GitHub: [https://github.com/guolindev/PermissionX](https://github.com/guolindev/PermissionX)

### EventBus APT

äº‹ä»¶æ€»çº¿è¿™é‡Œé€‰æ‹©çš„è¿˜æ˜¯ **EventBus**ï¼Œä¹Ÿæœ‰å¾ˆå¤šæ¯”è¾ƒæ–°çš„äº‹ä»¶æ€»çº¿æ¡†æ¶,è¿˜æ˜¯é€‰æ‹©äº†è¿™ä¸ªç›´æ¥ä¸Šæ‰‹çš„
åœ¨æ¡†æ¶å†…æˆ‘å¯¹ **EventBus** è¿›è¡Œäº†åŸºç±»å°è£…ï¼Œè‡ªåŠ¨æ³¨å†Œå’Œè§£é™¤æ³¨å†Œï¼Œåœ¨éœ€è¦æ³¨å†Œçš„ç±»ä¸Šæ·»åŠ  **@EventBusRegister** æ³¨è§£å³å¯ï¼Œæ— éœ€å…³å¿ƒå†…å­˜æ³„æ¼åŠæ²¡åŠæ—¶è§£é™¤æ³¨å†Œçš„æƒ…å†µï¼ŒåŸºç±»é‡Œå·²ç»åšäº†å¤„ç†

```kotlin
@EventBusRegister
class MainActivity : AppCompatActivity() {}
```

å¾ˆå¤šä½¿ç”¨ **EventBus** çš„å¼€å‘è€…å…¶å®éƒ½æ²¡æœ‰å‘ç° **APT** çš„åŠŸèƒ½ï¼Œè¿™æ˜¯ **EventBus3.0** çš„é‡å¤§æ›´æ–°ï¼Œä½¿ç”¨ **EventBus APT** å¯ä»¥åœ¨ç¼–è¯‘æœŸç”Ÿæˆè®¢é˜…ç±»ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…ä½¿ç”¨ä½æ•ˆç‡çš„åå°„ï¼Œå¾ˆå¤šäººä¸çŸ¥é“è¿™ä¸ªæ›´æ–°ï¼Œç”¨ç€**3.0**çš„ç‰ˆæœ¬ï¼Œå®é™…ä¸Šå´æ˜¯**2.0**çš„æ•ˆç‡ã€‚
é¡¹ç›®ä¸­å·²ç»åœ¨å„æ¨¡å—ä¸­å¼€å¯äº† **EventBus APT**ï¼Œ**EventBus** ä¼šåœ¨ç¼–è¯‘å™¨å¯¹å„æ¨¡å—ç”Ÿæˆè®¢é˜…ç±»ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™ä»£ç å»æ³¨å†Œè¿™äº›è®¢é˜…ç±»ï¼š

```kotlin
// åœ¨APPå£³çš„AppApplicationç±»ä¸­
EventBus
     .builder()
	 .addIndex("å„æ¨¡å—ç”Ÿæˆçš„è®¢é˜…ç±»çš„å®ä¾‹ ç±»ååœ¨base_module.gradleè„šæœ¬ä¸­è¿›è¡Œäº†è®¾ç½® æ¯”å¦‚ module_home ç”Ÿæˆçš„è®¢é˜…ç±»å°±æ˜¯ module_homeIndex")
     .installDefaultEventBus()
```

### å±å¹•é€‚é… AndroidAutoSize

å±å¹•é€‚é…ä½¿ç”¨çš„æ˜¯ **JessYan** å¤§ä½¬çš„ ä»Šæ—¥å¤´æ¡å±å¹•é€‚é…æ–¹æ¡ˆç»ˆæç‰ˆ

GitHub: [https://github.com/JessYanCoding/AndroidAutoSize](https://github.com/JessYanCoding/AndroidAutoSize)

**ä½¿ç”¨æ–¹å¼:**

```
// åœ¨æ¸…å•æ–‡ä»¶ä¸­å£°æ˜
<manifest>
    <application> 
    // ä¸»å•ä½ä½¿ç”¨dp æ²¡è®¾ç½®å‰¯å•ä½
        <meta-data
            android:name="design_width_in_dp"
            android:value="360"/>
        <meta-data
            android:name="design_height_in_dp"
            android:value="640"/>           
     </application>           
</manifest>

// é»˜è®¤æ˜¯ä»¥ç«–å±çš„å®½åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é…
// å¦‚æœæ˜¯æ¨ªå±é¡¹ç›®è¦é€‚é…Pad(Padé€‚é…å°½é‡ä½¿ç”¨ä¸¤å¥—å¸ƒå±€ å› ä¸ºæ‰‹æœºå’ŒPadå±å¹•å®½æ¯”å·®è·å¾ˆå¤§ æ— æ³•å®Œç¾é€‚é…)
<manifest>
    <application>            
    // ä»¥é«˜åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é… (è¿˜éœ€è¦æ‰‹åŠ¨ä»£ç è®¾ç½®ä»¥é«˜åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é…) ç›®å‰ä»¥é«˜åº¦é€‚é…æ¯”å®½åº¦ä¸ºåŸºå‡†é€‚é… æ•ˆæœè¦å¥½
        <meta-data
            android:name="design_height_in_dp"
            android:value="400"/>           
     </application>           
</manifest>

// åœ¨Application ä¸­è®¾ç½®
// å±å¹•é€‚é… AndroidAutoSize ä»¥æ¨ªå±é«˜åº¦ä¸ºåŸºå‡†è¿›è¡Œé€‚é…
AutoSizeConfig.getInstance().isBaseOnWidth = false
```

### ARoute

**ARoute** æ˜¯é˜¿é‡Œå·´å·´çš„ä¸€ä¸ªç”¨äºå¸®åŠ© **Android App** è¿›è¡Œç»„ä»¶åŒ–æ”¹é€ çš„æ¡†æ¶ â€”â€” æ”¯æŒæ¨¡å—é—´çš„è·¯ç”±ã€é€šä¿¡ã€è§£è€¦  

**ä½¿ç”¨æ–¹å¼:**

```
// 1.åœ¨éœ€è¦è¿›è¡Œè·¯ç”±è·³è½¬çš„Activityæˆ–Fragmentä¸Šæ·»åŠ  @Route æ³¨è§£
@Route(path = "/test/activity")
public class YourActivity extend Activity {
    ...
}

// 2.å‘èµ·è·¯ç”±è·³è½¬
ARouter.getInstance()
    .build("ç›®æ ‡è·¯ç”±åœ°å€")
    .navigation()
    
// 3.æºå¸¦å‚æ•°è·³è½¬
ARouter.getInstance()
	.build("ç›®æ ‡è·¯ç”±åœ°å€")
    .withLong("key1", 666L)
    .withString("key3", "888")
    .withObject("key4", new Test("Jack", "Rose"))
    .navigation()

// 4.æ¥æ”¶å‚æ•°
@Route(path = RouteUrl.MainActivity2)
class MainActivity : AppCompatActivity() {

    // é€šè¿‡nameæ¥æ˜ å°„URLä¸­çš„ä¸åŒå‚æ•°
    @Autowired(name = "key")
    lateinit var name: String
    
	override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(mBinding.root)
        // ARouter ä¾èµ–æ³¨å…¥ ARouterä¼šè‡ªåŠ¨å¯¹å­—æ®µè¿›è¡Œèµ‹å€¼ï¼Œæ— éœ€ä¸»åŠ¨è·å–
        ARouter.getInstance().inject(this)
    }
}

// 5.è·å–Fragment
Fragment fragment = (Fragment) ARouter.getInstance().build("/test/fragment").navigation();
```

**èµ„æ–™:** 

å®˜æ–¹æ–‡æ¡£:[https://github.com/alibaba/ARouter](https://github.com/alibaba/ARouter)

### ViewBinding

é€šè¿‡è§†å›¾ç»‘å®šåŠŸèƒ½ï¼Œå¯ä»¥æ›´è½»æ¾åœ°ç¼–å†™å¯ä¸è§†å›¾äº¤äº’çš„ä»£ç ã€‚åœ¨æ¨¡å—ä¸­å¯ç”¨è§†å›¾ç»‘å®šä¹‹åï¼Œç³»ç»Ÿä¼šä¸ºè¯¥æ¨¡å—ä¸­çš„æ¯ä¸ª **XML** å¸ƒå±€æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªç»‘å®šç±»ã€‚ç»‘å®šç±»çš„å®ä¾‹åŒ…å«å¯¹åœ¨ç›¸åº”å¸ƒå±€ä¸­å…·æœ‰ **ID** çš„æ‰€æœ‰è§†å›¾çš„ç›´æ¥å¼•ç”¨ã€‚
åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè§†å›¾ç»‘å®šä¼šæ›¿ä»£ **findViewById**

**ä½¿ç”¨æ–¹å¼:** 

æŒ‰æ¨¡å—å¯ç”¨**ViewBinding**

```groovy
// æ¨¡å—ä¸‹çš„build.gradleæ–‡ä»¶
android {
	// å¼€å¯ViewBinding
    // é«˜ç‰ˆæœ¬AS
    buildFeatures {
        viewBinding = true
    }
    // ä½ç‰ˆæœ¬AS æœ€ä½3.6
    viewBinding {
        enabled = true
    }
}
```

**Activity** ä¸­ **ViewBinding** çš„ä½¿ç”¨

```kotlin
// ä¹‹å‰è®¾ç½®è§†å›¾çš„æ–¹æ³•
setContentView(R.layout.activity_main)

// ä½¿ç”¨ViewBindingåçš„æ–¹æ³•
val mBinding = ActivityMainBinding.inflate(layoutInflater)
setContentView(mBinding.root)

// ActivityMainBindingç±»æ˜¯æ ¹æ®å¸ƒå±€è‡ªåŠ¨ç”Ÿæˆçš„ å¦‚æœæ²¡æœ‰è¯·å…ˆbuildä¸€ä¸‹é¡¹ç›®
// ViewBindingä¼šå°†æ§ä»¶idè½¬æ¢ä¸ºå°é©¼å³°å‘½åæ³•,æ‰€ä»¥ä¸ºäº†ä¿æŒä¸€è‡´è§„èŒƒ,åœ¨xmlé‡Œå£°æ˜idæ—¶ä¹Ÿè¯·ä½¿ç”¨å°é©¼å³°å‘½åæ³•
// æ¯”å¦‚ä½ æœ‰ä¸€ä¸ªidä¸ºmTextçš„æ§ä»¶,å¯ä»¥è¿™æ ·ä½¿ç”¨
mBinding.mText.text = "ViewBinding"
```

**Fragment** ä¸­ **ViewBinding** çš„ä½¿ç”¨

```kotlin
// åŸæ¥çš„å†™æ³•
return inflater.inflate(R.layout.fragment_blank, container, false)

// ä½¿ç”¨ViewBindingçš„å†™æ³•
mBinding = FragmentBlankBinding.inflate(inflater)
return mBinding.root
```

**èµ„æ–™:** 

å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/view-binding](https://developer.android.com/topic/libraries/view-binding)  

CSDN: [https://blog.csdn.net/u010976213/article/details/104501830?depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5&utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5](https://blog.csdn.net/u010976213/article/details/104501830?depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5&utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-5)

### ViewModel

**ViewModel** ç±»æ—¨åœ¨ä»¥æ³¨é‡ç”Ÿå‘½å‘¨æœŸçš„æ–¹å¼å­˜å‚¨å’Œç®¡ç†ç•Œé¢ç›¸å…³çš„æ•°æ®ã€‚**ViewModel** ç±»è®©æ•°æ®å¯åœ¨å‘ç”Ÿå±å¹•æ—‹è½¬ç­‰é…ç½®æ›´æ”¹åç»§ç»­ç•™å­˜ã€‚

**ä½¿ç”¨æ–¹å¼:**

```kotlin
class MainViewModel : ViewModel(){}

class MainActivity : AppCompatActivity() {
		// è·å–æ— å‚æ„é€ çš„ViewModelå®ä¾‹
    val mViewModel = ViewModelProvider(this).get(MainViewModel::class.java)
}
```

**èµ„æ–™:** 

å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/architecture/viewmodel](https://developer.android.com/topic/libraries/architecture/viewmodel)

Android ViewModelï¼Œå†å­¦ä¸ä¼šä½ ç æˆ‘: [https://juejin.im/post/6844903919064186888](https://juejin.im/post/6844903919064186888)

### LiveData

**LiveData** æ˜¯ä¸€ç§å¯è§‚å¯Ÿçš„æ•°æ®å­˜å‚¨å™¨ç±»ã€‚ä¸å¸¸è§„çš„å¯è§‚å¯Ÿç±»ä¸åŒï¼Œ**LiveData** å…·æœ‰ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥èƒ½åŠ›ï¼Œæ„æŒ‡å®ƒéµå¾ªå…¶ä»–åº”ç”¨ç»„ä»¶ï¼ˆå¦‚ **Activity**ã€**Fragment** æˆ– **Service**ï¼‰çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™ç§æ„ŸçŸ¥èƒ½åŠ›å¯ç¡®ä¿ **LiveData** ä»…æ›´æ–°å¤„äºæ´»è·ƒç”Ÿå‘½å‘¨æœŸçŠ¶æ€çš„åº”ç”¨ç»„ä»¶è§‚å¯Ÿè€…

**LiveData** åˆ†ä¸ºå¯å˜å€¼çš„ **MutableLiveData** å’Œä¸å¯å˜å€¼çš„ **LiveData**

**å¸¸ç”¨æ–¹æ³•:**

```kotlin
fun test() {
        val liveData = MutableLiveData<String>()
        // è®¾ç½®æ›´æ–°æ•°æ®æº
        liveData.value = "LiveData"
        // å°†ä»»åŠ¡å‘å¸ƒåˆ°ä¸»çº¿ç¨‹ä»¥è®¾ç½®ç»™å®šå€¼
        liveData.postValue("LiveData")
        // è·å–å€¼
        val value = liveData.value
        // è§‚å¯Ÿæ•°æ®æºæ›´æ”¹(ç¬¬ä¸€ä¸ªå‚æ•°åº”æ˜¯owner:LifecycleOwner æ¯”å¦‚å®ç°äº†LifecycleOwneræ¥å£çš„Activity)
        liveData.observe(this, {
            // æ•°æ®æºæ›´æ”¹åè§¦å‘çš„é€»è¾‘
        })
    }
```

**èµ„æ–™:**

å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/architecture/livedata](https://developer.android.com/topic/libraries/architecture/livedata)

### Lifecycle

**Lifecycle** æ˜¯ä¸€ä¸ªç±»ï¼Œç”¨äºå­˜å‚¨æœ‰å…³ç»„ä»¶ï¼ˆå¦‚ **Activity** æˆ– **Fragment**ï¼‰çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€çš„ä¿¡æ¯ï¼Œå¹¶å…è®¸å…¶ä»–å¯¹è±¡è§‚å¯Ÿæ­¤çŠ¶æ€ã€‚**LifecycleOwner** æ˜¯å•ä¸€æ–¹æ³•æ¥å£ï¼Œè¡¨ç¤ºç±»å…·æœ‰ **Lifecycle**ã€‚å®ƒå…·æœ‰ä¸€ç§æ–¹æ³•ï¼ˆå³ **getLifecycle()**ï¼‰ï¼Œè¯¥æ–¹æ³•å¿…é¡»ç”±ç±»å®ç°ã€‚å®ç° **LifecycleObserver** çš„ç»„ä»¶å¯ä¸å®ç° **LifecycleOwner** çš„ç»„ä»¶æ— ç¼ååŒå·¥ä½œï¼Œå› ä¸ºæ‰€æœ‰è€…å¯ä»¥æä¾›ç”Ÿå‘½å‘¨æœŸï¼Œè€Œè§‚å¯Ÿè€…å¯ä»¥æ³¨å†Œä»¥è§‚å¯Ÿç”Ÿå‘½å‘¨æœŸã€‚

**èµ„æ–™:**  

å®˜æ–¹æ–‡æ¡£: [https://developer.android.com/topic/libraries/architecture/lifecycle](https://developer.android.com/topic/libraries/architecture/lifecycle)

### Hilt

**Hilt** æ˜¯ **Android** çš„ä¾èµ–é¡¹æ³¨å…¥åº“ï¼Œå¯å‡å°‘åœ¨é¡¹ç›®ä¸­æ‰§è¡Œæ‰‹åŠ¨ä¾èµ–é¡¹æ³¨å…¥çš„æ ·æ¿ä»£ç ã€‚æ‰§è¡Œæ‰‹åŠ¨ä¾èµ–é¡¹æ³¨å…¥è¦æ±‚æ‚¨æ‰‹åŠ¨æ„é€ æ¯ä¸ªç±»åŠå…¶ä¾èµ–é¡¹ï¼Œå¹¶å€ŸåŠ©å®¹å™¨é‡å¤ä½¿ç”¨å’Œç®¡ç†ä¾èµ–é¡¹ã€‚

**Hilt** é€šè¿‡ä¸ºé¡¹ç›®ä¸­çš„æ¯ä¸ª **Android** ç±»æä¾›å®¹å™¨å¹¶è‡ªåŠ¨ç®¡ç†å…¶ç”Ÿå‘½å‘¨æœŸï¼Œæä¾›äº†ä¸€ç§åœ¨åº”ç”¨ä¸­ä½¿ç”¨ **DIï¼ˆä¾èµ–é¡¹æ³¨å…¥ï¼‰**çš„æ ‡å‡†æ–¹æ³•ã€‚**Hilt** åœ¨çƒ­é—¨ **DI** åº“ **Dagger** çš„åŸºç¡€ä¸Šæ„å»ºè€Œæˆï¼Œå› è€Œèƒ½å¤Ÿå—ç›Šäº **Dagger** çš„ç¼–è¯‘æ—¶æ­£ç¡®æ€§ã€è¿è¡Œæ—¶æ€§èƒ½ã€å¯ä¼¸ç¼©æ€§å’Œ **Android Studio** æ”¯æŒã€‚

**èµ„æ–™:**  

ç›®å‰å®˜æ–¹æ–‡æ¡£è¿˜æ²¡æœ‰æ›´æ–°æ­£å¼ç‰ˆçš„ï¼Œè¿˜æ˜¯ **alpha** ç‰ˆæœ¬çš„æ–‡æ¡£ï¼š[ä½¿ç”¨ Hilt å®ç°ä¾èµ–é¡¹æ³¨å…¥](https://developer.android.com/training/dependency-injection/hilt-android)

**Dagger** çš„ **Hilt** æ–‡æ¡£ç›®å‰æ˜¯æœ€æ–°çš„ï¼š[Dagger-Hilt](https://dagger.dev/hilt/)

### Coil

**Coil** æ˜¯ä¸€ä¸ª Android å›¾ç‰‡åŠ è½½åº“ï¼Œé€šè¿‡ Kotlin åç¨‹çš„æ–¹å¼åŠ è½½å›¾ç‰‡ã€‚ç‰¹ç‚¹å¦‚ä¸‹ï¼š

- **æ›´å¿«**: Coil åœ¨æ€§èƒ½ä¸Šæœ‰å¾ˆå¤šä¼˜åŒ–ï¼ŒåŒ…æ‹¬å†…å­˜ç¼“å­˜å’Œç£ç›˜ç¼“å­˜ï¼ŒæŠŠç¼©ç•¥å›¾å­˜ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¾ªç¯åˆ©ç”¨ bitmapï¼Œè‡ªåŠ¨æš‚åœå’Œå–æ¶ˆå›¾ç‰‡ç½‘ç»œè¯·æ±‚ç­‰ã€‚
- **æ›´è½»é‡çº§**: Coil åªæœ‰2000ä¸ªæ–¹æ³•ï¼ˆå‰ææ˜¯ä½ çš„ APP é‡Œé¢é›†æˆäº† OkHttp å’Œ Coroutinesï¼‰ï¼ŒCoil å’Œ Picasso çš„æ–¹æ³•æ•°å·®ä¸å¤šï¼Œç›¸æ¯” Glide å’Œ Fresco è¦è½»é‡å¾ˆå¤šã€‚
- **æ›´å®¹æ˜“ä½¿ç”¨**: Coil çš„ API å……åˆ†åˆ©ç”¨äº† Kotlin è¯­è¨€çš„æ–°ç‰¹æ€§ï¼Œç®€åŒ–å’Œå‡å°‘äº†å¾ˆå¤šæ ·æ¿ä»£ç ã€‚
- **æ›´æµè¡Œ**: Coil é¦–é€‰ Kotlin è¯­è¨€å¼€å‘å¹¶ä¸”ä½¿ç”¨åŒ…å« Coroutines, OkHttp, Okio å’Œ AndroidX Lifecycles åœ¨å†…æœ€æµè¡Œçš„å¼€æºåº“ã€‚

**Coil** åå­—çš„ç”±æ¥ï¼šå– **Co**routine **I**mage **L**oader é¦–å­—æ¯å¾—æ¥ã€‚

**èµ„æ–™:**  

å®˜æ–¹æ–‡æ¡£: [https://coil-kt.github.io/coil/](https://coil-kt.github.io/coil/)

ä¸‰æ–¹åº“æºç ç¬”è®°ï¼ˆ13ï¼‰-å¯èƒ½æ˜¯å…¨ç½‘ç¬¬ä¸€ç¯‡ Coil çš„æºç åˆ†ææ–‡ç« ï¼š[https://juejin.cn/post/6897872882051842061](https://juejin.cn/post/6897872882051842061)

ã€å¥‡æŠ€æ·«å·§ã€‘æ–°çš„å›¾ç‰‡åŠ è½½åº“ï¼ŸåŸºäºKotlinåç¨‹çš„å›¾ç‰‡åŠ è½½åº“â€”â€”Coilï¼š[https://juejin.cn/post/6844904159527829518](https://juejin.cn/post/6844904159527829518)